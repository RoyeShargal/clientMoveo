{"ast":null,"code":"import _slicedToArray from\"/Users/royeshargal/WebstormProjects/Moveo/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import Axios from\"axios\";import'./welcome.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Welcome(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];// const [numPlayers, setNumPlayers] = useState(0)\nvar register=function register(event){event.preventDefault();Axios.post(\"https://moveoroye.herokuapp.com/welcome\",{username:username}).then(function(res){console.log(res);window.alert(\"Welcome \"+username);Axios.get(\"https://moveoroye.herokuapp.com/players\").then(function(x){var numPlayers=x.data[0];if(Object.values(numPlayers)[0]%2==0){// init new game\nAxios.post(\"https://moveoroye.herokuapp.com/newgame\").then(function(x){console.log('game created');});window.location.href='/choose';}else{window.location.href='/guess';}});});};return/*#__PURE__*/_jsxs(\"div\",{className:\"backg\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text\",children:\"Welcome mate!\"}),/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:register,children:[/*#__PURE__*/_jsx(\"label\",{className:\"text\",children:\"Enter your name & press play\"}),/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"textbox\",type:\"text\",required:true,minLength:1,maxLength:10,onChange:function onChange(e){setUsername(e.target.value);}}),/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",children:\"Play!\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cen\"})]})]});}","map":{"version":3,"sources":["/Users/royeshargal/WebstormProjects/Moveo/client/src/components/welcome/Welcome.js"],"names":["React","useState","Axios","Welcome","username","setUsername","register","event","preventDefault","post","then","res","console","log","window","alert","get","x","numPlayers","data","Object","values","location","href","e","target","value"],"mappings":"sIAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,eAAP,C,wFAEA,cAAe,SAASC,CAAAA,OAAT,EAAkB,CAC7B,cAAgCF,QAAQ,CAAC,EAAD,CAAxC,wCAAOG,QAAP,eAAiBC,WAAjB,eACA;AACA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAW,CACxBA,KAAK,CAACC,cAAN,GACAN,KAAK,CAACO,IAAN,CAAW,yCAAX,CAAqD,CACjDL,QAAQ,CAAEA,QADuC,CAArD,EAEGM,IAFH,CAEQ,SAACC,GAAD,CAAS,CACbC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACAG,MAAM,CAACC,KAAP,CAAa,WAAWX,QAAxB,EAEAF,KAAK,CAACc,GAAN,CAAU,yCAAV,EAAqDN,IAArD,CAA0D,SAAAO,CAAC,CAAG,CAC1D,GAAMC,CAAAA,UAAU,CAAKD,CAAC,CAACE,IAAH,CAAS,CAAT,CAApB,CACA,GAAKC,MAAM,CAACC,MAAP,CAAcH,UAAd,EAA0B,CAA1B,CAAD,CAAgC,CAAhC,EAAqC,CAAzC,CAA2C,CACvC;AACAhB,KAAK,CAACO,IAAN,CAAW,yCAAX,EAAsDC,IAAtD,CAA2D,SAAAO,CAAC,CAAG,CAC3DL,OAAO,CAACC,GAAR,CAAY,cAAZ,EACH,CAFD,EAGAC,MAAM,CAACQ,QAAP,CAAgBC,IAAhB,CAAqB,SAArB,CACH,CAND,IAOI,CACAT,MAAM,CAACQ,QAAP,CAAgBC,IAAhB,CAAqB,QAArB,CACH,CACJ,CAZD,EAaH,CAnBD,EAoBH,CAtBD,CAwBA,mBACQ,aAAK,SAAS,CAAE,OAAhB,wBACJ,aAAM,SAAS,CAAE,MAAjB,2BADI,cAIA,YAJA,cAMJ,cAAM,QAAQ,CAAEjB,QAAhB,wBACI,cAAO,SAAS,CAAE,MAAlB,0CADJ,cAEQ,YAFR,cAGI,cAAO,SAAS,CAAC,SAAjB,CAA2B,IAAI,CAAE,MAAjC,CAEO,QAAQ,KAFf,CAGO,SAAS,CAAE,CAHlB,CAIO,SAAS,CAAE,EAJlB,CAKO,QAAQ,CAAE,kBAACkB,CAAD,CAAO,CACbnB,WAAW,CAACmB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,CACH,CAPR,EAHJ,cAaI,YAbJ,cAcI,eAAQ,SAAS,CAAC,KAAlB,mBAdJ,cAgBI,YAAK,SAAS,CAAC,KAAf,EAhBJ,GANI,GADR,CA4BH","sourcesContent":["import React, {useState} from 'react'\nimport Axios from \"axios\";\nimport './welcome.css'\n\nexport default function Welcome(){\n    const [username, setUsername] = useState('')\n    // const [numPlayers, setNumPlayers] = useState(0)\n    const register = (event) => {\n        event.preventDefault()\n        Axios.post(\"https://moveoroye.herokuapp.com/welcome\",{\n            username: username,\n        }).then((res) => {\n            console.log(res);\n            window.alert(\"Welcome \"+username)\n\n            Axios.get(\"https://moveoroye.herokuapp.com/players\").then(x =>{\n                const numPlayers = ((x.data)[0])\n                if ((Object.values(numPlayers)[0]) %2 == 0){\n                    // init new game\n                    Axios.post(\"https://moveoroye.herokuapp.com/newgame\").then(x =>{\n                        console.log('game created')\n                    })\n                    window.location.href='/choose'\n                }\n                else{\n                    window.location.href='/guess'\n                }\n            })\n        });\n    }\n\n    return(\n            <div className={\"backg\"}>\n        <span className={\"text\"}>\n            Welcome mate!\n        </span>\n            <p/>\n\n        <form onSubmit={register}>\n            <label className={\"text\"}>Enter your name & press play</label>\n                <p></p>\n            <input className=\"textbox\" type={\"text\"}\n\n                   required\n                   minLength={1}\n                   maxLength={10}\n                   onChange={(e) => {\n                       setUsername(e.target.value);\n                   }}\n            />\n\n            <p/>\n            <button className=\"btn\" >Play!</button>\n\n            <div className=\"cen\">\n            </div>\n        </form>\n            </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}